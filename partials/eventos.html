<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Eventos • Código da Carne</title>

  <!-- FONTES -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet" />

  <!-- CSS -->
  <link rel="stylesheet" href="css/base.css" />
  <link rel="stylesheet" href="css/eventos.css" />

  <!-- JS -->
  <script defer src="js/eventos.js"></script>
</head>
<body>
  <main class="container">
    <div class="page-layout">
      <!-- COLUNA PRINCIPAL -->
      <div class="content-col">
        <header class="page-header">
          <h1>EVENTOS • CÓDIGO DA CARNE</h1>
          <p class="subtitle">Escolha um cardápio e personalize com adicionais.</p>
        </header>

        <!-- PASSO 1 -->
        <section class="step" id="step-1">
          <div class="step-header">
            <div class="step-index">1</div>
            <div class="step-title">
              <h2>Selecione o cardápio</h2>
              <p>Clique em um dos cardápios abaixo para continuar.</p>
            </div>
          </div>

          <!-- Campos técnicos (mantidos, mas escondidos) -->
          <div style="display:none">
            <input id="input-pessoas" type="number" value="20" />
            <select id="select-local">
              <option value="interno" selected>Interno</option>
              <option value="externo">Externo</option>
            </select>
          </div>

          <!-- GRID DOS CARDS DO PASSO 1 -->
          <div class="menu-grid" id="menuGrid" role="radiogroup" aria-label="Seleção de cardápio"></div>
        </section>

        <!-- PASSO 2 -->
        <section class="step" id="step-2" hidden>
          <div class="step-header">
            <div class="step-index">2</div>
            <div class="step-title">
              <h2>Adicionais e personalizações</h2>
              <p>Adicionais já incluídos no cardápio são ocultados automaticamente.</p>
            </div>
          </div>

          <div class="adicionais-wrapper" id="adicionaisWrapper">
            <div class="adicional-col">
              <h4>Entradas</h4>
              <div class="adicional-list" id="adicionais-entradas"></div>
            </div>
            <div class="adicional-col">
              <h4>Cortes Especiais</h4>
              <div class="adicional-list" id="adicionais-cortes"></div>
            </div>
            <div class="adicional-col">
              <h4>Acompanhamentos</h4>
              <div class="adicional-list" id="adicionais-acomp"></div>
            </div>
            <div class="adicional-col">
              <h4>Sobremesa</h4>
              <div class="adicional-list" id="adicionais-sobremesa"></div>
            </div>
          </div>

          <div class="divider"></div>

          <div class="bebidas" id="bebidasBox">
            <h3>BEBIDAS</h3>
            <p class="hint">Todas as bebidas abaixo são <strong>sob consulta</strong>:</p>

            <div class="bebida-item">
              <label class="checkbox">
                <input type="checkbox" data-bebida="combo_cerveja_refri_agua" />
                <span><strong>Cerveja, refrigerante e água</strong> — preço sob consulta</span>
              </label>
            </div>
            <div class="bebida-item">
              <label class="checkbox">
                <input type="checkbox" data-bebida="combo_chopp_refri_agua" />
                <span><strong>Chopp, refrigerante e água</strong> — preço sob consulta</span>
              </label>
            </div>
            <div class="bebida-item">
              <label class="checkbox">
                <input type="checkbox" data-bebida="vinho" />
                <span><strong>Vinho</strong> — preço sob consulta</span>
              </label>
            </div>
            <div class="bebida-item">
              <label class="checkbox">
                <input type="checkbox" data-bebida="destilados" />
                <span><strong>Whisky, conhaque ou outro destilado</strong> — preço sob consulta</span>
              </label>
            </div>
          </div>

          <div class="divider"></div>

          <div class="pedidos-especiais">
            <h3>PEDIDOS ESPECIAIS</h3>
            <label class="checkbox">
              <input type="checkbox" id="check-pedido-especial" />
              <span>Quero fazer um pedido especial</span>
            </label>
            <div id="pedido-especial-box" class="pedido-especial-box" hidden>
              <label for="pedido-especial-text" class="textarea-label">Descreva seu pedido especial:</label>
              <textarea id="pedido-especial-text" rows="4" placeholder="Ex.: temática, substituições, restrições alimentares, etc."></textarea>
            </div>
          </div>
        </section>

        <!-- PASSO 3 (resumo do markup principal) -->
        <section class="step" id="step-3" hidden>
          <div class="step-header">
            <div class="step-index">3</div>
            <div class="step-title">
              <h2>Dados do evento e contato</h2>
              <p>Informe seus dados e as informações do evento.</p>
            </div>
          </div>

          <form id="finaliza-form" novalidate>
            <div class="form-grid pretty-form">
              <div class="form-col">
                <h4>Contato</h4>
                <label class="field">
                  <span>Nome</span>
                  <input type="text" id="cli-nome" required />
                  <small class="field-error" id="err-cli-nome"></small>
                </label>
                <label class="field">
                  <span>WhatsApp</span>
                  <input type="tel" id="cli-whats" placeholder="(DDD) 9xxxx-xxxx" required />
                </label>
                <label class="field">
                  <span>E-mail</span>
                  <input type="email" id="cli-email" placeholder="voce@exemplo.com" />
                </label>
                <label class="checkbox lgpd pretty-check">
                  <input type="checkbox" id="lgpd-ok" />
                  <span>Autorizo o contato para envio do orçamento (LGPD).</span>
                </label>
                <small class="field-error" id="err-lgpd"></small>
              </div>

              <div class="form-col">
                <h4>Informações do evento</h4>
                <label class="field">
                  <span>Data do evento</span>
                  <input type="date" id="evt-data" required />
                  <small class="field-error" id="err-evt-data"></small>
                </label>
                <label class="field">
                  <span>Início (hora)</span>
                  <input type="time" id="evt-hora" required />
                  <small class="field-error" id="err-evt-hora"></small>
                </label>

                <label class="field">
                  <span>Local</span>
                  <select id="evt-local">
                    <option value="interno" selected>Espaço Código da Carne</option>
                    <option value="externo">Externo</option>
                  </select>
                </label>

                <div id="evt-externo-box" class="externo-box" hidden>
                  <label class="field">
                    <span>Endereço</span>
                    <input type="text" id="evt-endereco" placeholder="Rua, nº, bairro, cidade" />
                    <small class="field-error" id="err-evt-endereco"></small>
                  </label>
                  <label class="field">
                    <span>Quem libera a entrada</span>
                    <input type="text" id="evt-responsavel" placeholder="Nome da pessoa responsável" />
                    <small class="field-error" id="err-evt-responsavel"></small>
                  </label>
                </div>
              </div>
            </div>
          </form>
        </section>

        <!-- PASSO 4 — TERMOS -->
        <section class="step" id="step-4" hidden>
          <div class="step-header">
            <div class="step-index">4</div>
            <div class="step-title">
              <h2>Termos e envio</h2>
              <p>Leia os termos, aceite e finalize o envio por WhatsApp ou e-mail.</p>
            </div>
          </div>

          <div class="pretty-form">
            <div id="terms-box" class="terms-box">
              <div class="terms-loading">Carregando termos…</div>
            </div>

            <div class="terms-accept">
              <label class="checkbox pretty-check">
                <input id="terms-accept" type="checkbox" disabled />
                <span>Li e aceito os termos do serviço.</span>
              </label>
              <small class="field-error" id="err-terms"></small>
            </div>

            <div class="final-buttons">
              <button class="btn btn-outline" id="btn-finalizar-email" disabled>Enviar por E-mail</button>
              <button class="btn btn-primary" id="btn-finalizar-wpp" disabled>Enviar por WhatsApp</button>
            </div>
          </div>
        </section>
      </div>

      <!-- SIDEBAR (RESUMO + NAVEGAÇÃO) -->
      <aside class="sidebar-col">
        <div class="summary-sticky">
          <div class="calc-summary">
            <h4>Resumo</h4>
            <div class="summary-row"><span id="resumo-menu">—</span></div>
            <div class="summary-row"><span>Adicionais</span><span id="resumo-itens">—</span></div>
            <div class="summary-row"><span>Bebidas</span><span id="resumo-bebidas">—</span></div>
            <div class="summary-row"><span>Pedido especial</span><span id="resumo-pedido">—</span></div>
            <div class="total-row"><span>Total estimado</span><span id="resumo-total">R$ 0,00</span></div>
            <small id="aviso-minimo" style="color:#8a443f;font-weight:600"></small>
          </div>

          <div class="menu-itens-card" id="menu-itens-card" hidden>
            <h4 id="menu-itens-title">Itens do cardápio</h4>
            <div id="menu-itens-content" class="menu-itens-content"></div>
          </div>

          <!-- Botões de navegação do wizard (AGORA COM ID CORRETO) -->
          <div class="sidebar-next" id="sidebar-next">
            <button class="btn btn-outline btn-sidebar-back" id="btn-prev-sidebar" hidden>Voltar</button>
            <button class="btn btn-primary btn-sidebar-next" id="btn-next-sidebar">Ir para Adicionais</button>
          </div>
        </div>
      </aside>
    </div>
  </main>
</body>
</html>
